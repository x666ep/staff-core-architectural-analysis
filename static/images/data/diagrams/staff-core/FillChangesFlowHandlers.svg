<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="500.6082px" preserveAspectRatio="none" style="width:328px;height:500px;background:#FFFFFF;" version="1.1" viewBox="0 0 328 500" width="328.365px" zoomAndPan="magnify"><defs/><g><ellipse cx="159.9401" cy="16.9698" fill="#222222" rx="8.4849" ry="8.4849" style="stroke:#222222;stroke-width:0.8484884642027358;"/><rect fill="#F1F1F1" height="40.9528" rx="10.6061" ry="10.6061" style="stroke:#181818;stroke-width:0.4242442321013679;" width="171.3947" x="74.2427" y="42.4244"/><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="135.7582" x="82.7276" y="60.7531">Запрос к 1С на получение</text><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="154.4249" x="82.7276" y="72.7446">данных по всем сотрудникам</text><rect fill="#F1F1F1" height="28.9613" rx="10.6061" ry="10.6061" style="stroke:#181818;stroke-width:0.4242442321013679;" width="207.8797" x="56.0002" y="100.347"/><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="190.9099" x="64.4851" y="118.6757">Берем текущие данные сотрудников</text><rect fill="#F1F1F1" height="40.9528" rx="10.6061" ry="10.6061" style="stroke:#181818;stroke-width:0.4242442321013679;" width="265.5769" x="27.1516" y="146.2781"/><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="248.6071" x="35.6365" y="164.6068">Формируем мапу на основе актуальных данных</text><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="123.8793" x="35.6365" y="176.5983">(Ключ гуид сотрудника)</text><rect fill="#F1F1F1" height="40.9528" rx="10.6061" ry="10.6061" style="stroke:#181818;stroke-width:0.4242442321013679;" width="249.4556" x="35.2123" y="204.2007"/><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="232.4858" x="43.6972" y="222.5294">Формируем мапу на основе текущих данных</text><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="123.8793" x="43.6972" y="234.5209">(Ключ гуид сотрудника)</text><rect fill="#F1F1F1" height="52.9444" rx="10.6061" ry="10.6061" style="stroke:#181818;stroke-width:0.4242442321013679;" width="185.819" x="67.0306" y="381.722"/><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="79.7579" x="75.5155" y="400.0507">формируем diff</text><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="165.4553" x="75.5155" y="412.0422">кладем его в таблицу *_changes</text><text fill="#000000" font-family="sans-serif" font-size="10.1819" lengthAdjust="spacing" textLength="141.6976" x="75.5155" y="424.0338">с пометкой необработанно</text><polygon fill="#F1F1F1" points="58.5457,340.5894,261.3344,340.5894,271.5163,350.7713,261.3344,360.9531,58.5457,360.9531,48.3638,350.7713,58.5457,340.5894" style="stroke:#181818;stroke-width:0.4242442321013679;"/><text fill="#000000" font-family="sans-serif" font-size="9.3334" lengthAdjust="spacing" textLength="15.2728" x="163.334" y="369.9766">yes</text><text fill="#000000" font-family="sans-serif" font-size="9.3334" lengthAdjust="spacing" textLength="202.7887" x="58.5457" y="354.2986">Текущие данные отличаются от актуальных</text><polygon fill="#F1F1F1" points="58.9699,299.4568,260.9102,299.4568,271.0921,309.6386,260.9102,319.8205,58.9699,319.8205,48.7881,309.6386,58.9699,299.4568" style="stroke:#181818;stroke-width:0.4242442321013679;"/><text fill="#000000" font-family="sans-serif" font-size="9.3334" lengthAdjust="spacing" textLength="15.2728" x="163.334" y="328.844">yes</text><text fill="#000000" font-family="sans-serif" font-size="9.3334" lengthAdjust="spacing" textLength="201.9403" x="58.9699" y="313.166">В текущих данных есть ключ из актуальных</text><polygon fill="#F1F1F1" points="52.6063,262.1233,267.2739,262.1233,277.4557,272.3051,267.2739,282.487,52.6063,282.487,42.4244,272.3051,52.6063,262.1233" style="stroke:#181818;stroke-width:0.4242442321013679;"/><text fill="#000000" font-family="sans-serif" font-size="9.3334" lengthAdjust="spacing" textLength="214.6676" x="52.6063" y="275.8325">Перебираем в цикле мапу актуальных данных</text><ellipse cx="20.3637" cy="308.7901" fill="none" rx="9.3334" ry="9.3334" style="stroke:#222222;stroke-width:0.8484884642027358;"/><ellipse cx="20.3637" cy="308.7901" fill="#222222" rx="5.0909" ry="5.0909" style="stroke:#111111;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="25.4547" y2="42.4244"/><polygon fill="#181818" points="156.5461,33.9395,159.9401,42.4244,163.334,33.9395,159.9401,37.3335" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="83.3772" y2="100.347"/><polygon fill="#181818" points="156.5461,91.8621,159.9401,100.347,163.334,91.8621,159.9401,95.2561" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="129.3083" y2="146.2781"/><polygon fill="#181818" points="156.5461,137.7932,159.9401,146.2781,163.334,137.7932,159.9401,141.1872" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="187.2309" y2="204.2007"/><polygon fill="#181818" points="156.5461,195.7158,159.9401,204.2007,163.334,195.7158,159.9401,199.1097" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="360.9531" y2="381.722"/><polygon fill="#181818" points="156.5461,373.2371,159.9401,381.722,163.334,373.2371,159.9401,376.6311" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="271.5163" x2="281.6982" y1="350.7713" y2="350.7713"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="281.6982" x2="281.6982" y1="350.7713" y2="453.3331"/><polygon fill="#181818" points="278.3042,444.8482,281.6982,453.3331,285.0921,444.8482,281.6982,448.2422" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="281.6982" x2="159.9401" y1="453.3331" y2="453.3331"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="453.3331" y2="457.5756"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="434.6664" y2="453.3331"/><polygon fill="#181818" points="156.5461,444.8482,159.9401,453.3331,163.334,444.8482,159.9401,448.2422" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="319.8205" y2="340.5894"/><polygon fill="#181818" points="156.5461,332.1045,159.9401,340.5894,163.334,332.1045,159.9401,335.4985" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="271.0921" x2="290.1831" y1="309.6386" y2="309.6386"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="290.1831" x2="290.1831" y1="309.6386" y2="471.9999"/><polygon fill="#181818" points="286.7891,463.515,290.1831,471.9999,293.577,463.515,290.1831,466.9089" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="290.1831" x2="159.9401" y1="471.9999" y2="471.9999"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="471.9999" y2="476.2423"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="457.5756" y2="471.9999"/><polygon fill="#181818" points="156.5461,463.515,159.9401,471.9999,163.334,463.515,159.9401,466.9089" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="282.487" y2="299.4568"/><polygon fill="#181818" points="156.5461,290.9719,159.9401,299.4568,163.334,290.9719,159.9401,294.3658" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="476.2423" y2="480.4848"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="306.3043" y1="480.4848" y2="480.4848"/><polygon fill="#181818" points="302.9104,396.3154,306.3043,387.8305,309.6983,396.3154,306.3043,392.9214" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="306.3043" x2="306.3043" y1="272.3051" y2="480.4848"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="306.3043" x2="277.4557" y1="272.3051" y2="272.3051"/><polygon fill="#181818" points="285.9406,268.9112,277.4557,272.3051,285.9406,275.6991,282.5467,272.3051" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="42.4244" x2="20.3637" y1="272.3051" y2="272.3051"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="20.3637" x2="20.3637" y1="272.3051" y2="299.4568"/><polygon fill="#181818" points="16.9698,290.9719,20.3637,299.4568,23.7577,290.9719,20.3637,294.3658" style="stroke:#181818;stroke-width:0.8484884642027358;"/><line style="stroke:#181818;stroke-width:0.8484884642027358;" x1="159.9401" x2="159.9401" y1="245.1535" y2="262.1233"/><polygon fill="#181818" points="156.5461,253.6384,159.9401,262.1233,163.334,253.6384,159.9401,257.0323" style="stroke:#181818;stroke-width:0.8484884642027358;"/><!--MD5=[ed594c9b213968d877b55f9928d645f9]
@startuml FillChangesFlowHandlers
skinparam ConditionEndStyle hline 
scale max 500 height
    start
        :Запрос к 1С на получение 
        данных по всем сотрудникам;
        :Берем текущие данные сотрудников;
        :Формируем мапу на основе актуальных данных 
        (Ключ гуид сотрудника);
        :Формируем мапу на основе текущих данных 
        (Ключ гуид сотрудника);
        while (Перебираем в цикле мапу актуальных данных)
            if (В текущих данных есть ключ из актуальных) then (yes)
                if (Текущие данные отличаются от актуальных) then (yes)
                :формируем diff 
                кладем его в таблицу *_changes 
                с пометкой необработанно;
                endif
            endif
        endwhile
    stop
@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: RU
--></g></svg>