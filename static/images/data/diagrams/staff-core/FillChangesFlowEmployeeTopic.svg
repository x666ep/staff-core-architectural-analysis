<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="634px" preserveAspectRatio="none" style="width:386px;height:634px;background:#FFFFFF;" version="1.1" viewBox="0 0 386 634" width="386px" zoomAndPan="magnify"><defs/><g><ellipse cx="188.5" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="48.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="202" x="87.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="160" x="97.5" y="71.6016">Запрос к 1С на получение</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="97.5" y="85.7344">данных по всем сотрудникам</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="66" y="118.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="225" x="76" y="139.8672">Берем текущие данные сотрудников</text><rect fill="#F1F1F1" height="48.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="313" x="32" y="172.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="293" x="42" y="194">Формируем мапу на основе актуальных данных</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="42" y="208.1328">(Ключ гуид сотрудника)</text><rect fill="#F1F1F1" height="48.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="294" x="41.5" y="240.6641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="274" x="51.5" y="262.2656">Формируем мапу на основе текущих данных</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="51.5" y="276.3984">(Ключ гуид сотрудника)</text><rect fill="#F1F1F1" height="62.3984" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="219" x="79" y="449.8848"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="89" y="471.4863">формируем diff</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="195" x="89" y="485.6191">кладем его в таблицу *_changes</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167" x="89" y="499.752">с пометкой необработанно</text><polygon fill="#F1F1F1" points="69,401.4072,308,401.4072,320,413.4072,308,425.4072,69,425.4072,57,413.4072,69,401.4072" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="18" x="192.5" y="436.042">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="69" y="417.5645">Текущие данные отличаются от актуальных</text><polygon fill="#F1F1F1" points="188.5,532.2832,200.5,544.2832,188.5,556.2832,176.5,544.2832,188.5,532.2832" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="69.5,352.9297,307.5,352.9297,319.5,364.9297,307.5,376.9297,69.5,376.9297,57.5,364.9297,69.5,352.9297" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="18" x="192.5" y="387.5645">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="69.5" y="369.0869">В текущих данных есть ключ из актуальных</text><polygon fill="#F1F1F1" points="188.5,576.2832,200.5,588.2832,188.5,600.2832,176.5,588.2832,188.5,576.2832" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="62,308.9297,315,308.9297,327,320.9297,315,332.9297,62,332.9297,50,320.9297,62,308.9297" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="62" y="325.0869">Перебираем в цикле мапу актуальных данных</text><ellipse cx="24" cy="363.9297" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="24" cy="363.9297" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="30" y2="50"/><polygon fill="#181818" points="184.5,40,188.5,50,192.5,40,188.5,44" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="98.2656" y2="118.2656"/><polygon fill="#181818" points="184.5,108.2656,188.5,118.2656,192.5,108.2656,188.5,112.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="152.3984" y2="172.3984"/><polygon fill="#181818" points="184.5,162.3984,188.5,172.3984,192.5,162.3984,188.5,166.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="220.6641" y2="240.6641"/><polygon fill="#181818" points="184.5,230.6641,188.5,240.6641,192.5,230.6641,188.5,234.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="425.4072" y2="449.8848"/><polygon fill="#181818" points="184.5,439.8848,188.5,449.8848,192.5,439.8848,188.5,443.8848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="320" x2="332" y1="413.4072" y2="413.4072"/><polygon fill="#181818" points="328,471.084,332,481.084,336,471.084,332,475.084" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332" x2="332" y1="413.4072" y2="544.2832"/><line style="stroke:#181818;stroke-width:1.0;" x1="332" x2="200.5" y1="544.2832" y2="544.2832"/><polygon fill="#181818" points="210.5,540.2832,200.5,544.2832,210.5,548.2832,206.5,544.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="512.2832" y2="532.2832"/><polygon fill="#181818" points="184.5,522.2832,188.5,532.2832,192.5,522.2832,188.5,526.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="376.9297" y2="401.4072"/><polygon fill="#181818" points="184.5,391.4072,188.5,401.4072,192.5,391.4072,188.5,395.4072" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="319.5" x2="342" y1="364.9297" y2="364.9297"/><polygon fill="#181818" points="338,471.084,342,481.084,346,471.084,342,475.084" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="342" x2="342" y1="364.9297" y2="588.2832"/><line style="stroke:#181818;stroke-width:1.0;" x1="342" x2="200.5" y1="588.2832" y2="588.2832"/><polygon fill="#181818" points="210.5,584.2832,200.5,588.2832,210.5,592.2832,206.5,588.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="556.2832" y2="576.2832"/><polygon fill="#181818" points="184.5,566.2832,188.5,576.2832,192.5,566.2832,188.5,570.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="332.9297" y2="352.9297"/><polygon fill="#181818" points="184.5,342.9297,188.5,352.9297,192.5,342.9297,188.5,346.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="600.2832" y2="610.2832"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="360" y1="610.2832" y2="610.2832"/><polygon fill="#181818" points="356,479.084,360,469.084,364,479.084,360,475.084" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="360" x2="360" y1="320.9297" y2="610.2832"/><line style="stroke:#181818;stroke-width:1.0;" x1="360" x2="327" y1="320.9297" y2="320.9297"/><polygon fill="#181818" points="337,316.9297,327,320.9297,337,324.9297,333,320.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50" x2="24" y1="320.9297" y2="320.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="24" y1="320.9297" y2="352.9297"/><polygon fill="#181818" points="20,342.9297,24,352.9297,28,342.9297,24,346.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.5" x2="188.5" y1="288.9297" y2="308.9297"/><polygon fill="#181818" points="184.5,298.9297,188.5,308.9297,192.5,298.9297,188.5,302.9297" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[8f88d52a32fbe843addde4937df3c84d]
@startuml FillChangesFlowEmployeeTopic
    start
        :Запрос к 1С на получение 
        данных по всем сотрудникам;
        :Берем текущие данные сотрудников;
        :Формируем мапу на основе актуальных данных 
        (Ключ гуид сотрудника);
        :Формируем мапу на основе текущих данных 
        (Ключ гуид сотрудника);
        while (Перебираем в цикле мапу актуальных данных)
            if (В текущих данных есть ключ из актуальных) then (yes)
                if (Текущие данные отличаются от актуальных) then (yes)
                :формируем diff 
                кладем его в таблицу *_changes 
                с пометкой необработанно;
                endif
            endif
        endwhile
    stop
@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: RU
--></g></svg>